system(unzip(here("localdrive/rms_data.zip"),
files = "rms_data.shp", exdir ="~/localdrive"))
system(unzip(here("localdrive/rms_data.zip"),
files = "rms_data.shp", exdir ="."))
rmsdata <- st_read("~/localdrive/rms_data.shp")
rmsdata <- st_read("~/localdrive/rms_data.shp")
library(geospaar)
rmsdata <- st_read("~/localdrive/rms_data.shp")
setwd("~/Clark/RA-ing/SummerInstitute/USF")
rmsdata <- st_read("~/localdrive/rms_data.shp")
rmsdata <- st_read("~/Clark/RA-ing/SummerInstitute/USF/localdrive/rms_data.shp")
usethis::use_data(rmsdata, overwrite = TRUE)
usethis::use_data_raw("dt_parcels")
## code to prepare `dt_parcels` dataset goes here
library(here)
library(sp)
dt_parcels <- st_read(here("~/Clark/RA-ing/SummerInstitute/r_data_raw/USF/inst/data/detroit/Parcels.shp"))
usethis::use_data(dt_parcels, overwrite = TRUE)
usethis::use_data_raw("pgll")
pgll <- st_read("~/Clark/RA-ing/SummerInstitute/r_data_raw/USF/inst/data/detroit/pgll.shp")
usethis::use_data(pgll, overwrite = TRUE)
ptaxdata_0809 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2008-2009.xlsx"),
sheet = "Roll Data 2008-2009")
library(readxl)
# read excel sheets
library(here)
ptaxdata_0809 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2008-2009.xlsx"),
sheet = "Roll Data 2008-2009")
ptaxdata_0809
colnames(ptaxdata_0809)
ptaxdata_0809[3] <-ptaxdata_1213[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0809[3] <-ptaxdata_0809[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
usethis::use_data_raw("sf_parcels")
sf_parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels/Parcels/sanfranparcel.shp")
names(parcels)[1] <- "RP1PRCLID"
usethis::use_data(sf_parcels, overwrite = TRUE)
names(sf_parcels)[1] <- "RP1PRCLID"
usethis::use_data(sf_parcels, overwrite = TRUE)
sf_parcels
ptaxdata_0809 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "Roll Data 2009-2010")
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "Roll Data 2009-2010")
# 2009-10
# read excel_sheet
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"))
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2008-2009.xlsx"),
sheet = "2009-2010")
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "2009-2010")
ptaxdata_0910[3] <-ptaxdata_0910[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2010-11
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"))
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "Roll Data 2010-2011")
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx""),
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"),
sheet = "Roll Data 2010-2011")
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"),
sheet = "Roll Data 2010-2011")
ptaxdata_1011[3] <-ptaxdata_1011[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"),
sheet = "Roll Data 2010-2011")
ptaxdata_1011[3] <-ptaxdata_1011[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"))
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"),
sheet = "Roll Data 2010-2011")
ptaxdata_1011[3] <-ptaxdata_1011[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.11.5__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"))
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"),
sheet = "Roll Data 2010-2011")
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.11.5__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"),
sheet = "Roll Data 2010-2011")
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.11.5__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"),
sheet = "Roll Data 2011-2012")
ptaxdata_1112[3] <-ptaxdata_1112[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1112 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.11.5__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"),
sheet = "Roll Data 2011-2012")
ptaxdata_1213 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2012-2013.xlsx"),
sheet = "Roll Data 2012-2013")
ptaxdata_1112[3] <-ptaxdata_1112[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"))
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2013-2014.xlsx"))
ptaxdata_1314 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2013-2014.xlsx"),
sheet = "Roll Data 2013-2014")
ptaxdata_1314[3] <-ptaxdata_1314[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2014-15
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"))
ptaxdata_1415 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"),
sheet = "2014-2015")
ptaxdata_1415[3] <-ptaxdata_1415[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
warnings()
ptaxdata_1415[3] <-ptaxdata_1415[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708
# read excel_sheet
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"))
# specify worksheet 1 "Roll Data 2007-2008"
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008")
ptaxdata_0708
ptaxdata_0708[3] <-ptaxdata_0708[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 <- ptaxdata_0708 %>%
distinct(RP1PRCLID)
ptaxdata_0708
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008")
ptaxdata_0708 %>% colnames()
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008")
ptaxdata_0708[3] <-ptaxdata_0708[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708_t <- ptaxdata_0708 %>% distinct[3, 19:32]
ptaxdata_0708_t <- ptaxdata_0708[-c(3, 19:32)]
ptaxdata_0708_t
ptaxdata_0708[3] <-ptaxdata_0708[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708_t <- ptaxdata_0708[-c(1, 2, 4:18)]
ptaxdata_0708_t
ptaxdata_0708_t %>% colnames()
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% ptaxdata_0708[-c(1, 2, 4:18)]
ptaxdata_0708
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% ptaxdata_0708[-c(1, 2, 4:18)]
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)]
ptaxdata_0708
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)] %>% ptaxdata_0708[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)] %>% .[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)]
ptaxdata_0708 %>% colnames()
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)] %>% .[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008")
ptaxdata_0708 %>% .[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 %>% select(RP1PRCLID) %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 %>% filter(RP1PRCLID) %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 %>% ptaxdata_0708$RP1PRCLID %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 %>% ptaxdata_0708$RP1PRCLID %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# Tidy Registration.Count from character to numeric
clean <- function(x){
as.numeric(gsub(' ', '', x))
}
ptaxdata_0708 %>% mutate(RP1PRCLID = clean(ptaxdata_0708$RP1PRCLID) #across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 %>% mutate(RP1PRCLID = clean(ptaxdata_0708$RP1PRCLID))
# Tidy Registration.Count from character to numeric
clean <- function(x){
as.numeric(gsub('', ' ', x))
}
ptaxdata_0708 %>% mutate(RP1PRCLID = clean(ptaxdata_0708$RP1PRCLID))
ptaxdata_0708 %>% mutate(RP1PRCLID = across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708$RP1PRCLID %>% mutate(RP1PRCLID = across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708
ptaxdata_0708$RP1PRCLID <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008")
ptaxdata_0708$RP1PRCLID
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008")
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)]
install.packages
intall.packages("parallel")
install.packages("parallel")
library(parallel)
system.time(b3 <- lapply(1:250, function(x) {
r <- raster(extent(30, 31, -14, -13), res = 0.001,
crs = "+proj=longlat +datum=WGS84")
set.seed(x)
values(r) <- sample(1:10, size = ncell(r), replace = TRUE)
stack(r, r * runif(n = ncell(r), 0.9, 1.2), r * runif(n = ncell(r), 0.8, 1.3))
}))
system.time(b4 <- mclapply(1:250, function(x) {
r <- raster(extent(30, 31, -14, -13), res = 0.001,
crs = "+proj=longlat +datum=WGS84")
set.seed(x)
values(r) <- sample(1:10, size = ncell(r), replace = TRUE)
stack(r, r * runif(n = ncell(r), 0.9, 1.2), r * runif(n = ncell(r), 0.8, 1.3))
}, mc.cores = 7))
system.time(l1 <- lapply(b3, function(x) calc(x, mean)))
system.time(l2 <- mclapply(b4, function(x) calc(x, mean), mc.cores = 7))
white_tick
eyes
raised_hands::skin-tone-3
library(geospaar)
districts <- system.file("extdata/districts.shp", package = "geospaar") %>%
st_read
data(chirps)
chirpsz <- mask(chirps, districts)
ptaxdata_0708[3] <-ptaxdata_0708[3] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)]
ptaxdata_0708[3] <-ptaxdata_0708[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708
ptaxdata_0708[3] <-ptaxdata_0708[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708[1] <-ptaxdata_0708[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0708
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"),
sheet = "Roll Data 2010-2011") %>% .[-c(1, 2, 4:18)]
ptaxdata_1011
ptaxdata_1011[1] <-ptaxdata_1011[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1819 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2018-2019.xlsx"),
sheet = "Roll Data 2018-2019") %>% .[-c(1, 2, 4:18)]
# specify worksheet 1 "Roll Data 2007-2008"
ptaxdata_0708 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2007-2008.xlsx"),
sheet = "Roll Data 2007-2008") %>% .[-c(1, 2, 4:18)]
# edit col 3
ptaxdata_0708[1] <-ptaxdata_0708[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2008-09
ptaxdata_0809 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "Roll Data 2009-2010") %>% .[-c(1, 2, 4:18)]
ptaxdata_0809[1] <-ptaxdata_0809[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2009-10
# read excel_sheet
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"))
ptaxdata_0910 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "2009-2010") %>% .[-c(1, 2, 4:18)]
ptaxdata_0910[1] <-ptaxdata_0910[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2010-11
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"))
ptaxdata_1011 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2010-2011.xlsx"),
sheet = "Roll Data 2010-2011") %>% .[-c(1, 2, 4:18)]
ptaxdata_1011[1] <-ptaxdata_1011[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2011-12
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.11.5__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"))
ptaxdata_1112 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.11.5__SF_ASR_Secured_Roll_Data_2011-2012.xlsx"),
sheet = "Roll Data 2011-2012") %>% .[-c(1, 2, 4:18)]
ptaxdata_1112[1] <-ptaxdata_1112[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
# 2012-13
ptaxdata_1213 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2012-2013.xlsx"),
sheet = "Roll Data 2012-2013") %>% .[-c(1, 2, 4:18)]
ptaxdata_1213[1] <-ptaxdata_1213[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1213
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2013-2014.xlsx"))
ptaxdata_1314 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2013-2014.xlsx"),
sheet = "Roll Data 2013-2014") %>% .[-c(1, 2, 4:18)]
ptaxdata_1314[1] <-ptaxdata_1314[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1314
ptaxdata_1415 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"),
sheet = "2014-2015")
ptaxdata_1415
ptaxdata_1415 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"),
sheet = "2014-2015") %>% .[-c(1, 2, 4:18)]
ptaxdata_1415[1] <-ptaxdata_1415[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1415[
ptaxdata_1415
ptaxdata_1415
ptaxdata_1415 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"),
sheet = "2014-2015") %>% .[-c(1, 2, 4:18)]
ptaxdata_1415[1] <-ptaxdata_1415[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1415
ptaxdata_1415 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"),
sheet = "2014-2015")
ptaxdata_1314
ptaxdata_1415 %>% colnames()
ptaxdata_1415 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2014-2015.xlsx"),
sheet = "2014-2015") %>% .[-c(1, 2, 4:23)]
ptaxdata_1415
ptaxdata_1415[1] <-ptaxdata_1415[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1415
ptaxdata_1516 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2015-2016.xlsx"),
sheet = "Roll Data 2015-2016")
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2015-2016.xlsx"))
ptaxdata_1516 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2015-2016.xlsx"),
sheet = "Roll Data 2015-2016") %>% .[-c(1, 2, 4:18)]
ptaxdata_1516
ptaxdata_1516[1] <-ptaxdata_1516[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1516
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.12__SF_ASR_Secured_Roll_Data_2016-2017_0.xlsx"))
ptaxdata_1617 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.12__SF_ASR_Secured_Roll_Data_2016-2017_0.xlsx"),
sheet = "Roll Data 2016-2017") %>% .[-c(1, 2, 4:18)]
ptaxdata_1617
ptaxdata_1617[1] <-ptaxdata_1617[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1718 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.12__SF_ASR_Secured_Roll_Data_2017-2018.xlsx"),
sheet = "Roll Data 2017-2018")%>% .[-c(1, 2, 4:18)]
ptaxdata_1718
ptaxdata_1718[1] <-ptaxdata_1718[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2018-2019.xlsx"))
ptaxdata_1819 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2018-2019.xlsx"),
sheet = "Roll Data 2018-2019") %>% .[-c(1, 2, 4:18)]
ptaxdata_1819[1] <-ptaxdata_1819[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1819
ptaxdata_1819 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2018-2019.xlsx"),
sheet = "Roll Data 2018-2019")
ptaxdata_1819
colnames(ptaxdata_1819)
ptaxdata_1819 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2018-2019.xlsx"),
sheet = "Roll Data 2018-2019") %>% .[-c(1, 3:18)]
ptaxdata_1819
ptaxdata_1819[1] <-ptaxdata_1819[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1819
ptaxdata_1920 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2019-2020.xlsx"),
sheet = "Roll Data 2019-2020")
ptaxdata_1920
ptaxdata_1920 %>% colnames()
ptaxdata_1920 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2020.7.10_SF_ASR_Secured_Roll_Data_2019-2020.xlsx"),
sheet = "Roll Data 2019-2020") %>% .[-c(1, 3:18)]
ptaxdata_1920[1] <-ptaxdata_1920[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_1920
ptaxdata_2021 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2021.7.28_SF_ASR_Secured_Roll_Data_2020-2021.xlsx"),
sheet = "Roll Data 2020-2021") %>% .[-c(1, 3:18)]
ptaxdata_2021[1] <-ptaxdata_2021[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_2021
usethis::use_data_raw("ptaxdata_0708")
usethis::use_data(ptaxdata_0708, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_0809")
usethis::use_data(ptaxdata_0809, overwrite = TRUE)
## code to prepare `ptaxdata_0809` dataset goes here
ptaxdata_0809 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2009-2010.xlsx"),
sheet = "Roll Data 2009-2010") %>% .[-c(1, 2, 4:18)]
# 2008-09
excel_sheets(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2008-2009.xlsx"))
ptaxdata_0809[1] <-ptaxdata_0809[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0809 <- read_excel(
here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/assessors/2019.8.20__SF_ASR_Secured_Roll_Data_2008-2009.xlsx"),
sheet = "Roll Data 2008-2009") %>% .[-c(1, 2, 4:18)]
ptaxdata_0809[1] <-ptaxdata_0809[1] %>%
mutate(across(where(is.character), str_remove_all, pattern = fixed(" ")))
ptaxdata_0809
usethis::use_data(ptaxdata_0809, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_0910")
usethis::use_data(ptaxdata_0910, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1011")
usethis::use_data(ptaxdata_1011, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1112")
usethis::use_data(ptaxdata_1112, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1213")
usethis::use_data(ptaxdata_1213, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1314")
usethis::use_data(ptaxdata_1314, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1415")
usethis::use_data(ptaxdata_1415, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1516")
usethis::use_data(ptaxdata_1516, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1617")
usethis::use_data(ptaxdata_1617, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1718")
usethis::use_data(ptaxdata_1718, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1819")
usethis::use_data(ptaxdata_1819, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_1920")
usethis::use_data(ptaxdata_1920, overwrite = TRUE)
usethis::use_data_raw("ptaxdata_2021")
usethis::use_data(ptaxdata_2021, overwrite = TRUE)
sf_pdistricts <- st_read(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Current Police Districts/geo_export_9bf54163-ba35-4dfa-953f-b7357987d6f9.shp"))
usethis::use_data_raw("sf_pdistricts")
usethis::use_data(sf_pdistricts, overwrite = TRUE)
sf_landuse <- st_read(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Land Use/geo_export_bfa75090-fc16-491b-939a-36adb7e3dbdf.shp"))
sf_landuse
sf_landuse %>% colnames()
usethis::use_data_raw("sf_landuse")
usethis::use_data(sf_landuse, overwrite = TRUE)
sf_pdcalls <- st_read("~/Clark/RA-ing/SummerInstitute/USF/localdrive/sf_pdcalls.shp)
sf_pdcalls <- st_read("~/Clark/RA-ing/SummerInstitute/USF/localdrive/sf_pdcalls.shp")
sf_pdcalls <- st_read("~/Clark/RA-ing/SummerInstitute/USF/localdrive/sf_pdcalls.shp")
usethis::use_data_raw("sf_pdcalls")
usethis::use_data(sf_pdcalls, overwrite = TRUE)
sf_incident <- st_read(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Police Department Incident Reports_ 2018 to Present/geo_export_4f55bd45-1b85-4d17-955a-73a401af9732.shp"))
usethis::use_data_raw("sf_incident")
usethis::use_data(sf_incident, overwrite = TRUE)
CopMonitor <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/CopMonitor Public Records.csv"))
library(here)
CopMonitor <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/CopMonitor Public Records.csv"))
CopMonitor
names(CopMonitor)[1] <- "Name"
CopMonitor %>% unique(Officer.Agency)
library(geospaar)
CopMonitor %>% unique(Officer.Agency)
CopMonitor$Officer.Agency %>% unique()
usethis::use_data_raw("CopMonitor")
usethis::use_data(CopMonitor, overwrite = TRUE)
sf_pdbudget <- read.csv("~/Clark/RA-ing/SummerInstitute/budget/sf_policebudget.csv")
sf_pdstaff07 <- read.csv("~/Clark/RA-ing/SummerInstitute/budget/sf_policestaffing2007.csv")
sf_pdstaff2007 <- read.csv("~/Clark/RA-ing/SummerInstitute/budget/sf_policestaffing2007.csv")
usethis::use_data_raw("sf_pdbudget")
sf_pdbudget
names(sf_pdbudget)[1] <- "City"
sf_pdbudget
usethis::use_data(sf_pdbudget, overwrite = TRUE)
usethis::use_data_raw("sf_pdstaff2007")
sf_pdstaff2007
names(sf_pdstaff2007)[1] <- "PD.District"
sf_pdstaff2007
usethis::use_data(sf_pdstaff2007, overwrite = TRUE)
sf_fedgrants <- read.csv("~/Clark/RA-ing/SummerInstitute/GIS/sanfransf_fedgrants.csv")
sf_fedgrants <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfransf_fedgrants.csv"))
setwd("~/Clark/RA-ing/SummerInstitute/GIS/sanfran")
sf_fedgrants <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfransf_fedgrants.csv"))
sf_fedgrants <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/sf_fedgrants.csv"))
setwd("~/Clark/RA-ing/SummerInstitute/USF")
usethis::use_data_raw("sf_fedgrants")
sf_fedgrants
sf_fedgrants %>% colnames()
names(sf_fedgrants)[1] <- "Amount"
sf_fedgrants %>% colnames()
usethis::use_data(sf_fedgrants, overwrite = TRUE)
usethis::use_data_raw("dt_pdbudget")
## code to prepare `dt_pdbudget` dataset goes here
library(here)
dt_pdbudget <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/detroit/budget.csv"))
dt_pdbudget <- read.csv(here("~/Clark/RA-ing/SummerInstitute/GIS/detroit/funding/budget.csv"))
dt_pdbudget
dt_pdbudget %>% colnames()
names(dt_pdbudget)[1] <- "City"
usethis::use_data(dt_pdbudget, overwrite = TRUE)
