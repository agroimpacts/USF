mdh_lapd$cost %>% gsub(",", "", mdh_lapd$cost) %>% as.numeric(gsub("\\$", "", mdh_lapd$cost)
mdh_lapd$cost %>% gsub(",", "", mdh_lapd$cost) %>% as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$cost <- mdh_lapd$cost %>% gsub(",", "", mdh_lapd$cost) %>%
as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$cost <- mgsub(mdh_lapd$cost, c("," = ""), ("\\$" = ""))
mdh_lapd$cost <- mdh_lapd$cost %>% gsub(",", "", mdh_lapd$cost)
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$cost
usethis::use_data(mdh_lapd, overwrite = TRUE)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
usethis::use_data(mdh_lapd, overwrite = TRUE)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
load("~/Clark/RA-ing/SummerInstitute/USF/data/mdh_lapd.rda")
## code to prepare `mdh_lapd` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
usethis::use_data(mdh_lapd, overwrite = TRUE)
usethis::use_data_raw(name = 'mdh_lapd')
setwd("~/Clark/RA-ing/SummerInstitute/USF")
data(mpv_polkilbm)
colnames(mpv_polkilbm)
usethis::use_data_raw(name = 'mdh_lapd')
## code to prepare `mdh_lapd` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
usethis::use_data(mdh_lapd, overwrite = TRUE)
colnames(mdh_lapd)
mdh_lapd
mdh_lapd$days.in.jail
mdh_lapd$days.in.jail <- gsub(",", "", mdh_lapd$days.in.jail)
mdh_lapd$days.in.jail
rename(days.in.jail = daysjail)
library(dplyr)
rename(days.in.jail = daysjail)
rename(daysjail = days.in.jail)
mdh_lapd <- mdh_lapd %>% rename(daysjail = days.in.jail)
mdh_lapd
mdh_lapd$days.in.jail <- as.numeric(mdh_lapd$days.in.jail)
mdh_lapd$days.in.jail <- as.numeric()
mdh_lapd <- as.numeric(mdh_lapd$days.in.jail)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$days.in.jail <- gsub(",", "", mdh_lapd$days.in.jail) %>% as.numeric()
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv")
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$days.in.jail <- gsub(",", "", mdh_lapd$days.in.jail) %>% as.numeric() %>% rename(daysjail = days.in.jail)
mdh_lapd$days.in.jail <- gsub(",", "", mdh_lapd$days.in.jail) %>% as.numeric() %>% rename(., daysjail = days.in.jail)
mdh_lapd <- mdh_lapd$days.in.jail %>% rename(daysjail = days.in.jail)
mdh_lapd <- mdh_lapd %>% rename(daysjail = days.in.jail)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv") %>%
rename(daysjail = days.in.jail, Pop2010 = X2010.Population)
mdh_lapd
unique(mdh_lapd$ï..id)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv") %>%
rename(daysjail = days.in.jail, Pop2010 = X2010.Population, id = ï..id)
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$days.in.jail <- gsub(",", "", mdh_lapd$days.in.jail) %>% as.numeric()
mdh_lapd$daysjail <- gsub(",", "", mdh_lapd$daysjaill) %>% as.numeric()
mdh_lapd$daysjail <- gsub(",", "", as.character(mdh_lapd$daysjaill) %>% as.numeric()
mdh_lapd$daysjail <- gsub(",", "", as.numeric(mdh_lapd$daysjaill))
mdh_lapd$daysjail <- gsub(",", "", as.numeric(mdh_lapd$daysjaill))
mdh_lapd$daysjail <- gsub(",", "", mdh_lapd$daysjaill) %>% as.numeric()
mdh_lapd$daysjail <- gsub(",", "", mdh_lapd$daysjail) %>% as.numeric()
mdh_lapd$arrests <- as.numeric()
mdh_lapd$arrests <- as.numeric(mdh_lapd$arrests)
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv") %>%
rename(daysjail = days.in.jail, Pop2010 = X2010.Population, id = ï..id)
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$daysjail <- gsub(",", "", mdh_lapd$daysjail) %>% as.numeri
mdh_lapd$arrests <- gsub(",", "", mdh_lapd$arrests) %>% as.numeric()
mdh_lapd$daysjail <- gsub(",", "", mdh_lapd$daysjail) %>% as.numeric()
mdh_lapd$Pop2010 <- gsub(",", "", mdh_lapd$Pop2010) %>% as.numeric()
setwd("~/Clark/RA-ing/SummerInstitute/USF")
## code to prepare `mdh_lapd` dataset goes here
library(readr)
library(dplyr)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lapd <- read.csv("LAPD2012_2017Ranking.csv") %>%
rename(daysjail = days.in.jail, Pop2010 = X2010.Population, id = ï..id)
mdh_lapd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lapd$cost <- as.numeric(gsub("\\$", "", mdh_lapd$cost))
mdh_lapd$daysjail <- gsub(",", "", mdh_lapd$daysjail) %>% as.numeric()
mdh_lapd$arrests <- gsub(",", "", mdh_lapd$arrests) %>% as.numeric()
mdh_lapd$Pop2010 <- gsub(",", "", mdh_lapd$Pop2010) %>% as.numeric()
usethis::use_data(mdh_lapd, overwrite = TRUE)
mdh_lasd
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/milliondollarhoods")
mdh_lasd <- read.csv("LASD2012_2017Ranking.csv") %>%
rename(daysjail = days.in.jail, Pop2010 = X2010.Population, id = ï..id)
mdh_lasd$cost <- gsub(",", "", mdh_lapd$cost)
mdh_lasd$cost <- as.numeric(gsub("\\$", "", mdh_lasd$cost))
mdh_lasd$daysjail <- gsub(",", "", mdh_lasd$daysjail) %>% as.numeric()
mdh_lasd$arrests <- gsub(",", "", mdh_lasd$arrests) %>% as.numeric()
mdh_lasd$Pop2010 <- gsub(",", "", mdh_lasd$Pop2010) %>% as.numeric()
usethis::use_data(mdh_lasd, overwrite = TRUE)
mdh_lasd
library(USF)
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings" ) %>%
rename(Geography = Geography (via Trulia methodology based on zipcode population density: http://jedkolko.com/wp-content/uploads/2015/05/full-ZCTA-urban-suburban-rural-classification.xlsx ))
mpv_polkil[27]
mpv_polkil[27, ]
mpv_polkill
load(mpv_polkill)
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings" )
library(readxl)
setwd("~/Clark/RA-ing/SummerInstitute/policeviolence")
# read excel sheets
excel_sheets("MPVDatasetDownload.xlsx")
# specify worksheet 1 "2013-2020 Police Killings"
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings" )
mpv_polkil[27, ]
mpv_polkill[27, ]
mpv_polkill[ , 27]
mpv_polkill[ , 27] <- rename(., geography)
mpv_polkill[ , 27] <- rename(mpv_polkill[ , 27], geography)
mpv_polkill[ , 27] <- rename(mpv_polkill[ , 27], colname(mpv_polkill[ , 27]) = geography)
colname(mpv_polkill[ , 27])
colname(mpv_polkill[ ,27])
colname(mpv_polkill[27, ])
colname[, 27]
mpv_polkill %>% colname[, 27]
colname(mpv_polkill)
mpv_polkill[ , 27] <- rename(mpv_polkill[ , 27], colnames(mpv_polkill[27, ]) = geography)
colnames(mpv_polkill[27, ])
mpv_polkill[27, ]
colnames(mpv_polkill[, 27])
mpv_polkill[ , 27] <- rename(mpv_polkill[ , 27], colnames(mpv_polkill[, 27]) = geography)
mpv_polkill[ , 27] <- mpv_polkill %>% rename( colnames(mpv_polkill[, 27]) = geography)
rename( colnames(mpv_polkill[, 27]) = geography)
mpv_polkill <- mpv_polkill %>% rename( (colnames(mpv_polkill[, 27])) = geography)
mpv_polkill <- mpv_polkill %>% rename( print(colnames(mpv_polkill[, 27])) = geography)
names(mpv_polkill)[27] <- "Geography"
library(readxl)
setwd("~/Clark/RA-ing/SummerInstitute/policeviolence")
# read excel sheets
excel_sheets("MPVDatasetDownload.xlsx")
# specify worksheet 1 "2013-2020 Police Killings"
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings" )
names(mpv_polkill)[27] <- "Geography"
usethis::use_data(mpv_polkill, overwrite = TRUE)
setwd("~/Clark/RA-ing/SummerInstitute/USF")
## code to prepare `mpv_polkill` dataset goes here
library(readxl)
setwd("~/Clark/RA-ing/SummerInstitute/policeviolence")
# read excel sheets
excel_sheets("MPVDatasetDownload.xlsx")
# specify worksheet 1 "2013-2020 Police Killings"
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings" )
names(mpv_polkill)[27] <- "Geography"
usethis::use_data(mpv_polkill, overwrite = TRUE)
setwd("~/Clark/RA-ing/SummerInstitute/USF")
## code to prepare `mpv_polkill` dataset goes here
library(readxl)
setwd("~/Clark/RA-ing/SummerInstitute/policeviolence")
# read excel sheets
excel_sheets("MPVDatasetDownload.xlsx")
# specify worksheet 1 "2013-2020 Police Killings"
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings")
names(mpv_polkill)[27] <- "Geography"
usethis::use_data(mpv_polkill, overwrite = TRUE)
library(USF)
usethis::use_data_raw(name = 'mpv_polkill')
setwd("~/Clark/RA-ing/SummerInstitute/USF")
LASD 2012-2017 by Neighborhoods (Ranking)
```{r echo=FALSE}
data(mdh_lasd)
colnames(mdh_lasd)
```
usethis::use_data_raw(name = 'mpv_polkill')
## code to prepare `mpv_polkill` dataset goes here
library(readxl)
setwd("~/Clark/RA-ing/SummerInstitute/policeviolence")
# read excel sheets
excel_sheets("MPVDatasetDownload.xlsx")
# specify worksheet 1 "2013-2020 Police Killings"
mpv_polkill <- read_excel("MPVDatasetDownload.xlsx",
sheet = "2013-2020 Police Killings")
names(mpv_polkill)[27] <- "Geography"
usethis::use_data(mpv_polkill, overwrite = TRUE)
mpv_polkilbm
colnames(mpv_polkilbm)
names(mpv_polkilbm)[4] <- "Black Male Population (2015 ACS)"
usethis::use_data(mpv_polkilbm, overwrite = TRUE)
library(USF)
usethis::use_data_raw(name = 'laops')
setwd("~/Clark/RA-ing/SummerInstitute/USF")
usethis::use_data_raw(name = 'laops')
setwd("~/Clark/RA-ing/SummerInstitute/openpolincingstanford")
los_angeles_2020_04_01 <- readRDS("~/Clark/RA-ing/SummerInstitute/openpolincingstanford/los_angeles_2020_04_01.rds")
laops <- readRDS("~/Clark/RA-ing/SummerInstitute/openpolincingstanford/los_angeles_2020_04_01.rds")
rm(los_angeles_2020_04_01)
## code to prepare `laops` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/openpolincingstanford")
laops <- readRDS("~/Clark/RA-ing/SummerInstitute/openpolincingstanford/los_angeles_2020_04_01.rds")
usethis::use_data(laops, overwrite = TRUE)
usethis::use_data_raw(name = 'zillow')
setwd("~/Clark/RA-ing/SummerInstitute/USF")
usethis::use_data_raw(name = 'zillow')
setwd("~/Clark/RA-ing/SummerInstitute/Zillow")
setwd("~/Clark/RA-ing/SummerInstitute/USF")
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/Zillow")
zillow <- read_csv("Metro_zhvi_uc_sfrcondo_tier_0.67_1.0_sm_sa_mon.csv")
usethis::use_data(zillow, overwrite = TRUE)
usethis::use_data_raw(name = 'zhvi_toptier')
setwd("~/Clark/RA-ing/SummerInstitute/USF")
usethis::use_data_raw(name = 'zhvi_toptier')
usethis::use_data_raw(name = 'zhvi_bottomtier')
## code to prepare `zhvi_bottomtier` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/Zillow")
zillow <- read_csv("Metro_zhvi_uc_sfrcondo_tier_0.0_0.33_sm_sa_mon.csv")
usethis::use_data(zhvi_bottomtier, overwrite = TRUE)
## code to prepare `zhvi_bottomtier` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/Zillow")
zhvi_bottomtier <- read_csv("Metro_zhvi_uc_sfrcondo_tier_0.0_0.33_sm_sa_mon.csv")
usethis::use_data(zhvi_bottomtier, overwrite = TRUE)
## code to prepare `zhvi_toptier` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/Zillow")
zhvi_toptier <- read_csv("Metro_zhvi_uc_sfrcondo_tier_0.67_1.0_sm_sa_mon.csv")
usethis::use_data(zhvi_toptier, overwrite = TRUE)
knitr::opts_chunk$set(echo = TRUE)
data(zhvi_bottomtier)
colnames(zhvi_bottomtier)
zhvi_bottomtier$RegionName
data(zhvi_bottomtier)
head(zhvi_bottomtier)
data(zhvi_toptier)
head(zhvi_toptier)
library(kableExtra)
data(zhvi_toptier)
kbl(head(zhvi_toptier))
kbl(head(zhvi_toptier[, c(1, 3-5)]))
kbl(head(zhvi_toptier[, 1:5]))
kbl(head(zhvi_toptier[, 1:6]))
usethis::use_data_raw(name = 'complaint_cot')
setwd("~/Clark/RA-ing/SummerInstitute/USF")
usethis::use_data_raw(name = 'complaint_cot')
## code to prepare `complaint_cot` dataset goes here
library(readr)
setwd("~/Clark/RA-ing/SummerInstitute/cityoftacoma")
complaint_cot <- read.csv("Complaint_Allegations_with_Findings.csv")
usethis::use_data(complaint_cot, overwrite = TRUE)
data(complaint_cot)
kbl(unique(complaint_cot$Allegation))
data(complaint_cot)
kbl(unique(complaint_cot$Allegation))
kbl(unique(complaint_cot$Finding))
usethis::use_data_raw(name = 'dd1033')
setwd("~/Clark/RA-ing/SummerInstitute/ACLUM-Public-Datasets")
dd1033excel <- read_excel("MPVDatasetDownload.xlsx")
## code to prepare `dd1033` dataset goes here
library(readxl)
dd1033excel <- read_excel("MPVDatasetDownload.xlsx")
dd1033excel <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
excel_sheets(dd1033excel)
excel_sheets("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
dd1033 <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
## code to prepare `dd1033` dataset goes here
library(readxl)
setwd("~/Clark/RA-ing/SummerInstitute/ACLUM-Public-Datasets")
dd1033 <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
usethis::use_data(dd1033, overwrite = TRUE)
knitr::opts_chunk$set(echo = TRUE)
data(dd1033)
excel_sheets("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
excel_sheets("dd1033")
excel_sheets(dd1033)
?excel_sheets
path <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
excel_sheets(path)
dd1033 <- path
usethis::use_data(dd1033, overwrite = TRUE)
excel_sheets(dd1033)
excel_sheets(dd1033excel)
setwd("~/Clark/RA-ing/SummerInstitute/ACLUM-Public-Datasets")
excel_sheets("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
library(USF)
usethis::use_data_raw(name = 'dd1033_CA')
excel_sheets("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
mpv_polkill <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx",
sheet = "California")
dd1033_CA <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx",
sheet = "California")
## code to prepare `dd1033_CA` dataset goes here
setwd("~/Clark/RA-ing/SummerInstitute/ACLUM-Public-Datasets")
excel_sheets("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
dd1033_CA <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx",
sheet = "California")
usethis::use_data(dd1033_CA, overwrite = TRUE)
head(dd1033_CA)
dd1033_CA
unique(dd1033_CA$`Item Name`)
mean(dd1033_CA$`Acquisition Value`)
library(USF)
names(dd1033_CA)[7] <- "AcqVal"
## code to prepare `dd1033_CA` dataset goes here
setwd("~/Clark/RA-ing/SummerInstitute/ACLUM-Public-Datasets")
excel_sheets("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx")
dd1033_CA <- read_excel("Department of Defense 1033 Program/DISP_AllStatesAndTerritories.xlsx",
sheet = "California")
names(dd1033_CA)[7] <- "AcqVal"
usethis::use_data(dd1033_CA, overwrite = TRUE)
library(USF)
knitr::opts_chunk$set(echo = TRUE)
colnames(dd1033_CA)
r mean(dd1033_CA$AcqVal)
mean(dd1033_CA$AcqVal)
`r, mean(dd1033_CA$AcqVal)`
kbl(head(dd1033_CA))
library(USF)
library(readxl)
library(kableExtra)
#usethis::use_data_raw(name = 'name')
kbl(head(dd1033_CA))
unique(dd1033_CA$`Station Name (LEA)`)
unique(dd1033_CA$`Station Name (LEA)`) %>% summary(., dd1033_CA$AcqVal)
unique(dd1033_CA$`Station Name (LEA)`) %>% sum(., dd1033_CA$AcqVal)
library(USF)
vignette()
build.vignettes()
history()
library(USF)
usethis::use_data_raw("more_nijgrants")
usethis::use_data(more_nijgrants, overwrite = TRUE)
more_nijgrants <- read.csv("NIJ_Baltimore/more_nijgrants.csv")
setwd("C:/Users/pilii/Documents/Clark/RA-ing/SummerInstitute/")
more_nijgrants <- read.csv("NIJ_Baltimore/more_nijgrants.csv")
usethis::use_data(more_nijgrants, overwrite = TRUE)
library(USF)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(USF)
library(dplyr)
library(tidyverse)
library(kableExtra)
# load data
data("more_nijgrants")
getwd()
force(more_nijgrants)
rename(more_nijgrants[3]) <- "Solicitor"
?rename
## code to prepare `more_nijgrants` dataset goes here
library(dplyr)
rename(more_nijgrants[3]) <- "Solicitor"
rename(more_nijgrants[3] = "Solicitor")
more_nijgrants <- rename(more_nijgrants[3] = "Solicitor")
names(more_nijgrants[3] <-  "Solicitor"
names(more_nijgrants[3]) <-  "Solicitor"
names(more_nijgrants)[3] <-  "Solicitor"
names(more_nijgrants)[1] <- "Fiscal_Y"
usethis::use_data(more_nijgrants, overwrite = TRUE)
setwd("~/Clark/RA-ing/SummerInstitute/USF")
usethis::use_data(more_nijgrants, overwrite = TRUE)
more_nijgrants %>% group_by(Solicitor)
more_nijgrants %>% group_by(Solicitor) %>% count() %>% arrange(-n)
more_nijgrants %>% unique(Solicitor)
unique(more_nijgrants$Solicitor)
library(USF)
`download.file("https://www.dropbox.com/sh/birb6qtoc3duexc/AACzt3VVIgXrIxw6LWKDV-FLa?dl=0")`
download.file("https://www.dropbox.com/sh/birb6qtoc3duexc/AACzt3VVIgXrIxw6LWKDV-FLa?dl=0")
download.file("https://www.dropbox.com/sh/birb6qtoc3duexc/AACzt3VVIgXrIxw6LWKDV-FLa?dl=0",
dest.file = "~/Data/")
download.file("https://www.dropbox.com/sh/birb6qtoc3duexc/AACzt3VVIgXrIxw6LWKDV-FLa?dl=0",
destfile = "~/Data/")
sf_ass_data <- read.csv("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Assessor_Historical_Secured_Property_Tax_Rolls.csv")
sf_ass_data2019 <- sf_ass_data %>% filter(Closed.Roll.Year == 2019)
library(tidyverse)
sf_ass_data2019 <- sf_ass_data %>% filter(Closed.Roll.Year == 2019)
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels   Active and Retired/geo_export_4d5b727f-8af2-417c-adb4-a7601acac6b9.shp")
library(USF)
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels   Active and Retired/geo_export_4d5b727f-8af2-417c-adb4-a7601acac6b9.shp")
library(sf)
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels   Active and Retired/geo_export_4d5b727f-8af2-417c-adb4-a7601acac6b9.shp")
plot(parcels$geometry)
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels/Parcels/Parcels.shp")
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels/Parcels/sanfranparcel.shp")
?right_join
right_join(sf_ass_data2019, parcels, by = c("Parcel.Number", "mapblklot"))
colnames(parcels)
right_join(sf_ass_data2019, parcels, by = c("Parcel.Number", "mapblklot"))
full_join(sf_ass_data2019, parcels, by = c("Parcel.Number", "mapblklot"))
plot(parcels$geometry)
full_join(sf_ass_data2019, parcels, by = c("Parcel.Number", "mapblklot"))
full_join(sf_ass_data2019, parcels, by = c("mapblklot", "Parcel.Number"))
names(parcels)[1] <- "Parcel.Number"
full_join(sf_ass_data2019, parcels, by = "Parcel.Number")
sf_2019_prop <- full_join(sf_ass_data2019, parcels, by = "Parcel.Number")
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Personal.Property.Value", title = "Property Values 2019", style = "jenks", palette = "viridis") +
#tm_add_legend(col = c("#1CFBA5", "#2F28FA", "#FF0023"),
#      labels = c("Wash. Post Data", "Fatal Encounters",
# "Mapping Police Violence"), title = "Police Shootings Data")  #+
tm_basemap(server = "OpenStreetMap", alpha = 0.7)
library(tmap)
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Personal.Property.Value", title = "Property Values 2019", style = "jenks", palette = "viridis") +
#tm_add_legend(col = c("#1CFBA5", "#2F28FA", "#FF0023"),
#      labels = c("Wash. Post Data", "Fatal Encounters",
# "Mapping Police Violence"), title = "Police Shootings Data")  #+
tm_basemap(server = "OpenStreetMap", alpha = 0.7)
str(sf_2019_prop)
class(sf_2019_prop)
sf_2019_prop <- sf_2019_prop %>% st_as_sf()
class(sf_2019_prop)
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Personal.Property.Value", title = "Property Values 2019", style = "jenks", palette = "viridis") +
#tm_add_legend(col = c("#1CFBA5", "#2F28FA", "#FF0023"),
#      labels = c("Wash. Post Data", "Fatal Encounters",
# "Mapping Police Violence"), title = "Police Shootings Data")  #+
tm_basemap(server = "OpenStreetMap", alpha = 0.7)
plot(sf_2019_prop$Assessed.Personal.Property.Value) %>% st_geometry()
sf_ass_data <- read.csv("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Assessor_Historical_Secured_Property_Tax_Rolls.csv")
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels/Parcels/sanfranparcel.shp")
library(sf)
library(tidyverse)
library(tmap)
parcels <- st_read("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Parcels/Parcels/sanfranparcel.shp")
class(parcels)
sf_ass_data2019 <- sf_ass_data %>% filter(Closed.Roll.Year == 2019)
sf_2019_prop <- right_join(parcels, sf_ass_data2019, by = "Parcel.Number")
View(sf_ass_data2019)
names(parcels)[1] <- "Parcel.Number"
sf_2019_prop <- right_join(parcels, sf_ass_data2019, by = "Parcel.Number")
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Personal.Property.Value", title = "Property Values 2019", style = "jenks", palette = "viridis") +
#tm_add_legend(col = c("#1CFBA5", "#2F28FA", "#FF0023"),
#      labels = c("Wash. Post Data", "Fatal Encounters",
# "Mapping Police Violence"), title = "Police Shootings Data")  #+
tm_basemap(server = "OpenStreetMap", alpha = 0.7)
sf_2019_prop
is.na(sf_2019_prop)
is.na(sf_2019_prop = TRUE) %>% count()
sf_2019_prop %>% is.na() %>% count()
plot(st_geometry(sf_2019_prop$Assessed.Personal.Property.Value))
plot(sf_2019_prop)
sf_2019_prop %>% filter(!Assessed.Personal.Property.Value %in% NA)
sf_2019_prop <- sf_2019_prop %>% filter(!Assessed.Personal.Property.Value %in% NA)
sf_2019_prop
plot(sf_2019_prop$Assessed.Personal.Property.Value)
plot(sf_2019_prop$Assessed.Personal.Property.Value)
class(sf_2019_prop)
st_as_sfc(sf_2019_prop)
st_as_sf(sf_2019_prop)
sf_2019_prop <- sf_2019_prop %>% st_as_sf()
class(sf_2019_prop)
sf_ass_data <- read.csv("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Assessor_Historical_Secured_Property_Tax_Rolls.csv") %>% stringsAsFactor = FALSE
sf_ass_data <- read.csv("~/Clark/RA-ing/SummerInstitute/GIS/sanfran/Assessor_Historical_Secured_Property_Tax_Rolls.csv")
sf_ass_data2019 <- sf_ass_data %>% filter(Closed.Roll.Year == 2019) %>% filter(!Assessed.Personal.Property.Value %in% NA)
sf_2019_prop <- right_join(parcels, sf_ass_data2019, by = "Parcel.Number")
sf_2019_prop <- sf_2019_prop %>% st_as_sf()
sf_2019_prop
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Personal.Property.Value", title = "Property Values 2019", style = "jenks", palette = "viridis")
na.omit(sf_2019_prop)
View(sf_2019_prop)
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Land.Value", title = "Property Values 2019", style = "jenks", palette = "viridis")
colnames(sf_2019_prop)
sf_2019_prop <- sf_2019_prop[-c(2:11, 13:22)] #remove unwanted columns
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Assessed.Land.Value", title = "Property Values 2019", style = "jenks", palette = "viridis")
tm_shape(sf_2019_prop$Assessed.Land.Value) +
tm_polygons(title = "Property Values 2019", style = "jenks", palette = "viridis")
tmap_mode("view")
tm_shape(sf_2019_prop)
tmap_mode("view")
tm_shape(sf_2019_prop) +
tm_polygons("Parcel.Number", title = "Property Values 2019", style = "jenks", palette = "viridis")
sf_2019_prop
plot(sf_2019_prop$Assessed.Land.Value)
st_geometry(sf_2019_prop$Assessed.Land.Value) %>% plot()
plot(st_geometry(sf_2019_prop$Assessed.Land.Value))
class(sf_2019_prop)
